{"ast":null,"code":"import _slicedToArray from \"/Users/elijahchen/blockchain-developer-bootcamp/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/elijahchen/blockchain-developer-bootcamp/blockchain-developer-bootcamp-final-project/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { useEffect, useState } from \"react\";\nimport CarSharingContract from \"./contracts/CarSharing.json\";\nimport getWeb3 from \"./getWeb3\";\nimport \"./App.css\";\n\nconst HelloWorld = () => {\n  //state variables\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        walletAddress = _useState2[0],\n        setWallet = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        status = _useState4[0],\n        setStatus = _useState4[1];\n\n  const _useState5 = useState(\"No connection to the network.\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        message = _useState6[0],\n        setMessage = _useState6[1]; //default message\n\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        newMessage = _useState8[0],\n        setNewMessage = _useState8[1];\n\n  const carContract = useState(\"\"); //called only once\n\n  useEffect(async () => {\n    const web3 = await getWeb3();\n\n    const contractABI = require(\"./contracts/CarSharing.json\");\n\n    const contractAddress = \"0xb7B7459DAF2B61bBb32Ba5Ab8dDfF858cd7B5332\";\n    carContract = new web3.eth.Contract(contractABI, contractAddress); // const message = await getRegistrationStatus();\n    // setMessage(message);\n\n    addSmartContractListener();\n\n    const _ref = await getCurrentWalletConnected(),\n          address = _ref.address,\n          status = _ref.status;\n\n    setWallet(address);\n    setStatus(status);\n    addWalletListener();\n  }, []);\n\n  function addSmartContractListener() {\n    carContract.events.Received({}, (error, data) => {\n      if (error) {\n        setStatus(\"ğŸ˜¥ \" + error.message);\n      } else {\n        setMessage(data.returnValues[1]);\n        setNewMessage(\"\");\n        setStatus(\"ğŸ‰ Your message has been updated!\");\n      }\n    });\n  }\n\n  function addWalletListener() {\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", accounts => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n          setStatus(\"ğŸ‘†ğŸ½ Write a message in the text-field above.\");\n        } else {\n          setWallet(\"\");\n          setStatus(\"ğŸ¦Š Connect to Metamask using the top right button.\");\n        }\n      });\n    } else {\n      setStatus(React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" \", \"\\uD83E\\uDD8A\", \" \", React.createElement(\"a\", {\n        target: \"_blank\",\n        href: \"https://metamask.io/download.html\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"You must install Metamask, a virtual Ethereum wallet, in your browser.\")));\n    }\n  }\n\n  const connectWalletPressed = async () => {\n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n  }; // interactions\n\n\n  const loadRegistrationStatus = async () => {\n    const status = await CarSharingContract.methods.getRegistrationStatus(walletAddress).call();\n    return status;\n  };\n\n  const registerUser = async () => {\n    await CarSharingContract.methods.registerDriver(this.state.userName, this.state.userId).send({\n      from: walletAddress\n    });\n    let response = await CarSharingContract.methods.getRegistrationStatus(walletAddress).call();\n\n    if (response == true) {\n      this.setState({\n        registrationStatus: \"You are registered\"\n      });\n    }\n  };\n\n  const connectWallet = async () => {\n    if (window.ethereum) {\n      try {\n        const addressArray = await window.ethereum.request({\n          method: \"eth_requestAccounts\"\n        });\n        const obj = {\n          status: \"ğŸ‘†ğŸ½ Write a message in the text-field above.\",\n          address: addressArray[0]\n        };\n        return obj;\n      } catch (err) {\n        return {\n          address: \"\",\n          status: \"ğŸ˜¥ \" + err.message\n        };\n      }\n    } else {\n      return {\n        address: \"\",\n        status: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \" \", \"\\uD83E\\uDD8A\", \" \", React.createElement(\"a\", {\n          target: \"_blank\",\n          href: \"https://metamask.io/download.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, \"You must install Metamask, a virtual Ethereum wallet, in your browser.\")))\n      };\n    }\n  };\n\n  const getCurrentWalletConnected = async () => {\n    if (window.ethereum) {\n      try {\n        const addressArray = await window.ethereum.request({\n          method: \"eth_accounts\"\n        });\n\n        if (addressArray.length > 0) {\n          return {\n            address: addressArray[0],\n            status: \"ğŸ‘†ğŸ½ Write a message in the text-field above.\"\n          };\n        } else {\n          return {\n            address: \"\",\n            status: \"ğŸ¦Š Connect to Metamask using the top right button.\"\n          };\n        }\n      } catch (err) {\n        return {\n          address: \"\",\n          status: \"ğŸ˜¥ \" + err.message\n        };\n      }\n    } else {\n      return {\n        address: \"\",\n        status: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \" \", \"\\uD83E\\uDD8A\", \" \", React.createElement(\"a\", {\n          target: \"_blank\",\n          href: \"https://metamask.io/download.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"You must install Metamask, a virtual Ethereum wallet, in your browser.\")))\n      };\n    }\n  }; // ------------------------------\n  //the UI of our component\n\n\n  return React.createElement(\"div\", {\n    id: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"walletButton\",\n    onClick: connectWalletPressed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, walletAddress.length > 0 ? \"Connected: \" + String(walletAddress).substring(0, 6) + \"...\" + String(walletAddress).substring(38) : React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Connect Wallet\")), React.createElement(\"h2\", {\n    style: {\n      paddingTop: \"50px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \"Current Message:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, message), React.createElement(\"h2\", {\n    style: {\n      paddingTop: \"18px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \"New Message:\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Update the message in your smart contract.\",\n    onChange: e => setNewMessage(e.target.value),\n    value: newMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, status), React.createElement(\"button\", {\n    id: \"publish\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"Update\")));\n};\n\nexport default HelloWorld;","map":{"version":3,"sources":["/Users/elijahchen/blockchain-developer-bootcamp/blockchain-developer-bootcamp-final-project/client/src/App.js"],"names":["React","Component","useEffect","useState","CarSharingContract","getWeb3","HelloWorld","walletAddress","setWallet","status","setStatus","message","setMessage","newMessage","setNewMessage","carContract","web3","contractABI","require","contractAddress","eth","Contract","addSmartContractListener","getCurrentWalletConnected","address","addWalletListener","events","Received","error","data","returnValues","window","ethereum","on","accounts","length","connectWalletPressed","walletResponse","connectWallet","loadRegistrationStatus","methods","getRegistrationStatus","call","registerUser","registerDriver","state","userName","userId","send","from","response","setState","registrationStatus","addressArray","request","method","obj","err","String","substring","paddingTop","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { useEffect, useState } from \"react\";\nimport CarSharingContract from \"./contracts/CarSharing.json\";\nimport getWeb3 from \"./getWeb3\";\n\nimport \"./App.css\";\n\nconst HelloWorld = () => {\n  //state variables\n  const [walletAddress, setWallet] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"No connection to the network.\"); //default message\n  const [newMessage, setNewMessage] = useState(\"\");\n  const carContract = useState(\"\");\n\n  //called only once\n  useEffect(async () => {\n    const web3 = await getWeb3();\n    const contractABI = require(\"./contracts/CarSharing.json\");\n    const contractAddress = \"0xb7B7459DAF2B61bBb32Ba5Ab8dDfF858cd7B5332\";\n    carContract = new web3.eth.Contract(\n      contractABI,\n      contractAddress\n    );\n\n    // const message = await getRegistrationStatus();\n    // setMessage(message);\n    addSmartContractListener();\n\n    const { address, status } = await getCurrentWalletConnected();\n\n    setWallet(address);\n    setStatus(status);\n\n    addWalletListener();\n  }, []);\n\n  function addSmartContractListener() {\n    carContract.events.Received({}, (error, data) => {\n      if (error) {\n        setStatus(\"ğŸ˜¥ \" + error.message);\n      } else {\n        setMessage(data.returnValues[1]);\n        setNewMessage(\"\");\n        setStatus(\"ğŸ‰ Your message has been updated!\");\n      }\n    });\n  }\n\n  function addWalletListener() {\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", (accounts) => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n          setStatus(\"ğŸ‘†ğŸ½ Write a message in the text-field above.\");\n        } else {\n          setWallet(\"\");\n          setStatus(\"ğŸ¦Š Connect to Metamask using the top right button.\");\n        }\n      });\n    } else {\n      setStatus(\n        <p>\n          {\" \"}\n          ğŸ¦Š{\" \"}\n          <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n            You must install Metamask, a virtual Ethereum wallet, in your\n            browser.\n          </a>\n        </p>\n      );\n    }\n  }\n\n  const connectWalletPressed = async () => {\n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n  };\n\n\n  // interactions\n\n const loadRegistrationStatus = async () => {\n  const status = await CarSharingContract.methods.getRegistrationStatus(walletAddress).call();\n  return status;\n};\n\n\n const registerUser = async () => {\n  await CarSharingContract.methods.registerDriver(this.state.userName, this.state.userId).send({ from: walletAddress });\n\n  let response = await CarSharingContract.methods.getRegistrationStatus(walletAddress).call();\n  if(response == true){\n    this.setState({ registrationStatus: \"You are registered\"});\n  }\n  \n};\n\n const connectWallet = async () => {\n  if (window.ethereum) {\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n      const obj = {\n        status: \"ğŸ‘†ğŸ½ Write a message in the text-field above.\",\n        address: addressArray[0],\n      };\n      return obj;\n    } catch (err) {\n      return {\n        address: \"\",\n        status: \"ğŸ˜¥ \" + err.message,\n      };\n    }\n  } else {\n    return {\n      address: \"\",\n      status: (\n        <span>\n          <p>\n            {\" \"}\n            ğŸ¦Š{\" \"}\n            <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n              You must install Metamask, a virtual Ethereum wallet, in your\n              browser.\n            </a>\n          </p>\n        </span>\n      ),\n    };\n  }\n};\n\n const getCurrentWalletConnected = async () => {\n  if (window.ethereum) {\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_accounts\",\n      });\n      if (addressArray.length > 0) {\n        return {\n          address: addressArray[0],\n          status: \"ğŸ‘†ğŸ½ Write a message in the text-field above.\",\n        };\n      } else {\n        return {\n          address: \"\",\n          status: \"ğŸ¦Š Connect to Metamask using the top right button.\",\n        };\n      }\n    } catch (err) {\n      return {\n        address: \"\",\n        status: \"ğŸ˜¥ \" + err.message,\n      };\n    }\n  } else {\n    return {\n      address: \"\",\n      status: (\n        <span>\n          <p>\n            {\" \"}\n            ğŸ¦Š{\" \"}\n            <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n              You must install Metamask, a virtual Ethereum wallet, in your\n              browser.\n            </a>\n          </p>\n        </span>\n      ),\n    };\n  }\n};\n\n// ------------------------------\n\n\n  //the UI of our component\n  return (\n    <div id=\"container\">\n      \n      <button id=\"walletButton\" onClick={connectWalletPressed}>\n        {walletAddress.length > 0 ? (\n          \"Connected: \" +\n          String(walletAddress).substring(0, 6) +\n          \"...\" +\n          String(walletAddress).substring(38)\n        ) : (\n          <span>Connect Wallet</span>\n        )}\n      </button>\n\n      <h2 style={{ paddingTop: \"50px\" }}>Current Message:</h2>\n      <p>{message}</p>\n\n      <h2 style={{ paddingTop: \"18px\" }}>New Message:</h2>\n\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Update the message in your smart contract.\"\n          onChange={(e) => setNewMessage(e.target.value)}\n          value={newMessage}\n        />\n        <p id=\"status\">{status}</p>\n\n        <button id=\"publish\">\n          Update\n        </button>\n      </div>\n    </div>\n  );\n};\n\n\n\nexport default HelloWorld;"]},"metadata":{},"sourceType":"module"}